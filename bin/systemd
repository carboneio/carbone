[Unit]
Description=CARBONE_SERVICE_NAME
After=network.target
# Restart forever
# StartLimitIntervalSec=0
# Wait 1s before restarting
# RestartSec=1

[Service]
WorkingDirectory=CARBONE_WORKDIR
User=CARBONE_USER
ExecStart=CARBONE_BIN_PATH webserver
Restart=always
Environment=NODE_ENV=prod
ProtectControlGroups=true
ProtectHostname=true
ProtectHome=true
ProtectKernelModules=true
ProtectKernelTunables=true
ProtectSystem=full
LockPersonality=true
RestrictSUIDSGID=true
SystemCallArchitectures=native
NoNewPrivileges=true
PrivateTmp=true
PrivateDevices=true
CapabilityBoundingSet=

# Kill after X seconds if soft stop does work
# TimeoutStopSec=90 
# ExecStop=

[Install]
WantedBy=multi-user.target

# [Slice]
# MemoryAccounting=true
# MemoryLimit=100M
# MemoryMax=100M
# MemoryHigh=50M