/*************
Code cookbook
*************/


var parser = {
  replaceEncodedMathematicalCharactersByNoEncodedCharacters : function(str){
    var _res = str
      .replace(/&ne;/g, '≠')
      .replace(/&asymp;/g, '≈')
      .replace(/&equiv;/g, '≡')
      .replace(/&cong;/g, '≅')
      .replace(/&prop;/g, '∝')
      .replace(/&there4;/g, '∴')
      .replace(/&sum;/g, '∑')
      .replace(/&prod;/g, '∏')
      .replace(/&prime;/g, '′')
      .replace(/&Prime;/g, '″')
      .replace(/&Delta;/g, 'Δ')
      .replace(/&nabla;/g, '∇')
      .replace(/&part;/g,'∂')
      .replace(/&int;/g,'∫')
      .replace(/&ordm;/g, 'º')
      .replace(/&middot;/g, '·')
      .replace(/&sup1;/g, '¹')
      .replace(/&frac14;/g, '¼')
      .replace(/&frac12;/g, '½')
      .replace(/&frac34;/g, '¾')
      .replace(/&times;/g, '×')
      .replace(/&Oslash;/g, 'Ø')
      .replace(/&deg;/g, '°')
      .replace(/&plusmn;/g, '±')
      .replace(/&sup2;/g, '²')
      .replace(/&sup3;/g, '³')
      .replace(/&sdot;/g,'⋅')
      .replace(/&minus;/g,'−')
      .replace(/&divide;/g,'÷')
      .replace(/&frasl;/g,'⁄')
      .replace(/&lfloor;/g,'⌊')
      .replace(/&lceil;/g,'⌈')
      .replace(/&rceil;/g,'⌉')
      .replace(/&rfloor;/g,'⌋')
      .replace(/&lowast;/g,'*')
      .replace(/&infin;/g,'∞')
      .replace(/&pi;/g,'π')
      .replace(/&radic;/g,'√')
    return res;
  },

  /**
   * Replace encoded special characters by no encoded characters
   * @param  {[type]} str
   * @return {[type]}
   */
  replaceEncodedSpecialCharactersByNoEncodedCharacters : function(str){
    var _res = str
      // Remove special characters
      .replace(/[\n\t]/g, '')

      .replace(/&euro;/g, '€')
      .replace(/&pound;/g, '£')
      .replace(/&yen;/g, '¥')
      .replace(/&cent;/g, '¢')

      .replace(/&oelig;/g, 'oe')
      .replace(/&Yuml;/g, 'Y')
      .replace(/&nbsp;/g, ' ')
      .replace(/&iexcl;/g, '¡')
      .replace(/&curren;/g, '¤')
      .replace(/&sect;/g, '§')
      .replace(/&uml;/g, '¨')
      .replace(/&copy;/g, '©')
      .replace(/&ordf;/g, 'ª')
      .replace(/&laquo;/g, '«')
      .replace(/&not;/g, '¬')
      .replace(/&reg;/g, '®')
      .replace(/&masr;/g, '¯')
      .replace(/&acute;/g, '\'')
      .replace(/&micro;/g, 'µ')
      .replace(/&para;/g, '¶')
      .replace(/&cedil;/g,'¸')
      .replace(/&raquo;/g, '»')
      .replace(/&iquest;/g, '¿')
      .replace(/&Agrave;/g, 'À')
      .replace(/&Acute;/g, 'Á')
      .replace(/&Acirc;/g, 'Â')
      .replace(/&Atilde;/g, 'Ã')
      .replace(/&Auml;/g, 'Ä')
      .replace(/&Aring;/g, 'Å')
      .replace(/&Aelig;/g, 'Æ')
      .replace(/&Ccedil;/g, 'Ç')
      .replace(/&Egrave;/g, 'È')
      .replace(/&Eacute;/g, 'É')
      .replace(/&Ecirc;/g, 'Ê')
      .replace(/&Euml;/g, 'Ë')
      .replace(/&Igrave;/g, 'Ì')
      .replace(/&Iacute;/g, 'Í')
      .replace(/&Icirc;/g, 'Î')
      .replace(/&Iuml;/g, 'Ï')
      .replace(/&eth;/g, 'Ð')
      .replace(/&Ntilde;/g, 'Ñ')
      .replace(/&Ograve;/g, 'Ò')
      .replace(/&Oacute;/g, 'Ó')
      .replace(/&Ocirc;/g, 'Ô')
      .replace(/&Otilde;/g, 'Õ')
      .replace(/&Ouml;/g, 'Ö')
      .replace(/&Ugrave;/g, 'Ù')
      .replace(/&Uacute;/g, 'Ú')
      .replace(/&Ucirc;/g, 'Û')
      .replace(/&Uuml;/g, 'Ü')
      .replace(/&Yacute;/g, 'Ý')
      .replace(/&thorn;/g, 'Þ')
      .replace(/&szlig;/g, 'ß')
      .replace(/&agrave;/g, 'à')
      .replace(/&aacute;/g, 'á')
      .replace(/&acirc;/g, 'â')
      .replace(/&atilde;/g, 'ã')
      .replace(/&auml;/g, 'ä')
      .replace(/&aring;/g, 'å')
      .replace(/&aelig;/g, 'æ')
      .replace(/&ccedil;/g, 'ç')
      .replace(/&egrave;/g, 'è')
      .replace(/&eacute;/g, 'é')
      .replace(/&ecirc;/g, 'ê')
      .replace(/&euml;/g, 'ë')
      .replace(/&igrave;/g, 'ì')
      .replace(/&iacute;/g, 'í')
      .replace(/&icirc;/g, 'î')
      .replace(/&iuml;/g, 'ï')
      .replace(/&oeth;/g, 'ð')
      .replace(/&ntilde;/g, 'ñ')
      .replace(/&ograve;/g, 'ò')
      .replace(/&oacute;/g, 'ó')
      .replace(/&ocirc;/g, 'ô')
      .replace(/&otilde;/g, 'õ')
      .replace(/&ouml;/g, 'ö')
      .replace(/&ugrave;/g, 'ù')
      .replace(/&uacute;/g, 'ú')
      .replace(/&ucirc;/g, 'û')
      .replace(/&uuml;/g, 'ü')
      .replace(/&yacute;/g, 'ý')
      .replace(/&thorn;/g, 'þ')
      .replace(/&yuml;/g, 'ÿ')
      .replace(/&apos;/g, '\'');

    return _res;
  },

  
  /**
   * Replace no encoded mathematical characters by encoded characters
   * @param  {[type]} str
   * @return {[type]}
   */
  replaceNoEncodedMathematicalCharactersByEncodedCharacters : function(str){
    var _res = str
      .replace(/≠/g,'&ne;')
      .replace(/≈/g,'&asymp;')
      .replace(/≡/g, '&equiv;')
      .replace(/≅/g, '&cong;')
      .replace(/∝/g, '&prop;')
      .replace(/∴/g, '&there4;')
      .replace(/∑/g, '&sum;')
      .replace(/∏/g, '&prod;')
      .replace(/′/g, '&prime;')
      .replace(/″/g,'&Prime;')
      .replace(/Δ/g,'&Delta;')
      .replace(/∇/g,'&nabla;')
      .replace(/∂/g, '&part;')
      .replace(/∫/g, '&int;')
      .replace(/º/g, '&ordm;')
      .replace(/·/g, '&middot;')
      .replace(/¹/g,'&sup1;')
      .replace(/¼/g, '&frac14;')
      .replace(/½/g, '&frac12;')
      .replace(/¾/g, '&frac34;')
      .replace(/×/g, '&times;')
      .replace(/Ø/g, '&Oslash;')
      .replace(/°/g,'&deg;')
      .replace(/±/g,'&plusmn;')
      .replace(/²/g,'&sup2;')
      .replace(/³/g,'&sup3;')
      .replace(/⋅/g,'&sdot;')
      .replace(/−/g, '&minus;')
      .replace(/÷/g, '&divide;')
      .replace(/⁄/g, '&frasl;')
      .replace(/⌊/g, '&lfloor;')
      .replace(/⌈/g, '&lceil;')
      .replace(/⌉/g, '&rceil;')
      .replace(/⌋/g, '&rfloor;')
      .replace(/\*/g, '&lowast;')
      .replace(/∞/g,'&infin;')
      .replace(/π/g, '&pi;')
      .replace(/√/g, '&radic;');

    return str;
  },
  /**
   * Replace no encoded special characters by encoded characters
   * @param  {[type]} str
   * @return {[type]}
   */
  replaceNoEncodedSpecialCharactersByEncodedCharacters : function(str){
    var _res = str

      .replace(/€/g,'&euro;')
      .replace(/£/g,'&pound;')
      .replace(/¥/g,'&yen;')
      .replace(/¢/g,'&cent;')

      .replace(/oe/g,'&oelig;')
      .replace(/Y/g,'&Yuml;')
      .replace(/' '/g,'&nbsp;')
      .replace(/¡/g,'&iexcl;')
      .replace(/¤/g,'&curren;')
      .replace(/§/g,'&sect;')
      .replace(/¨/g,'&uml;')
      .replace(/©/g,'&copy;')
      .replace(/ª/g,'&ordf;')
      .replace(/«/g,'&laquo;')
      .replace(/¬/g,'&not;')
      .replace(/®/g,'&reg;')
      .replace(/¯/g,'&masr;')
      .replace(/µ/g,'&micro;')
      .replace(/¶/g,'&para;')
      .replace(/¸/g,'&cedil;')
      .replace(/»/g,'&raquo;')
      .replace(/¿/g,'&iquest;')
      .replace(/À/g,'&Agrave;')
      .replace(/Á/g,'&Acute;')
      .replace(/Â/g,'&Acirc;')
      .replace(/Ã/g,'&Atilde;')
      .replace(/Ä/g,'&Auml;')
      .replace(/Å/g,'&Aring;')
      .replace(/Æ/g,'&Aelig;')
      .replace(/Ç/g,'&Ccedil;')
      .replace(/È/g,'&Egrave;')
      .replace(/É/g,'&Eacute;')
      .replace(/Ê/g,'&Ecirc;')
      .replace(/Ë/g,'&Euml;')
      .replace(/Ì/g,'&Igrave;')
      .replace(/Í/g,'&Iacute;')
      .replace(/Î/g,'&Icirc;')
      .replace(/Ï/g,'&Iuml;')
      .replace(/Ð/g,'&eth;')
      .replace(/Ñ/g,'&Ntilde;')
      .replace(/Ò/g,'&Ograve;')
      .replace(/Ó/g,'&Oacute;')
      .replace(/Ô/g,'&Ocirc;')
      .replace(/Õ/g,'&Otilde;')
      .replace(/Ö/g,'&Ouml;')
      .replace(/Ù/g,'&Ugrave;')
      .replace(/Ú/g,'&Uacute;')
      .replace(/Û/g,'&Ucirc;')
      .replace(/Ü/g,'&Uuml;')
      .replace(/Ý/g,'&Yacute;')
      .replace(/Þ/g,'&thorn;')
      .replace(/ß/g,'&szlig;')
      .replace(/à/g,'&agrave;')
      .replace(/á/g,'&aacute;')
      .replace(/â/g,'&acirc;')
      .replace(/ã/g,'&atilde;')
      .replace(/ä/g,'&auml;')
      .replace(/å/g,'&aring;')
      .replace(/æ/g,'&aelig;')
      .replace(/ç/g,'&ccedil;')
      .replace(/è/g,'&egrave;')
      .replace(/é/g,'&eacute;')
      .replace(/ê/g,'&ecirc;')
      .replace(/ë/g,'&euml;')
      .replace(/ì/g,'&igrave;')
      .replace(/í/g,'&iacute;')
      .replace(/î/g,'&icirc;')
      .replace(/ï/g,'&iuml;')
      .replace(/ð/g,'&oeth;')
      .replace(/ñ/g,'&ntilde;')
      .replace(/ò/g,'&ograve;')
      .replace(/ó/g,'&oacute;')
      .replace(/ô/g,'&ocirc;')
      .replace(/õ/g,'&otilde;')
      .replace(/ö/g,'&ouml;')
      .replace(/ù/g,'&ugrave;')
      .replace(/ú/g,'&uacute;')
      .replace(/û/g,'&ucirc;')
      .replace(/ü/g,'&uuml;')
      .replace(/ý/g,'&yacute;')
      .replace(/þ/g,'&thorn;')
      .replace(/ÿ/g,'&yuml;')
      .replace('\'','&apos;');
    
    return _res;
  },
}